<html>
<head>
  <!-- TODO: remove all external dependancies -->
  
  <!-- Leaflet js and css files  -->
	<link rel='stylesheet' href='http://cdn.leafletjs.com/leaflet-0.6/leaflet.css' />
	<script src='http://cdn.leafletjs.com/leaflet-0.6/leaflet.js' type='text/javascript'></script>
	
	<!-- Shapefile parser and leaflet shapefile plugin --> 
	<script src='leaflet.shpfile.js' type='text/javascript'></script>
	<script src='shp.js' type='text/javascript'></script>
	
	<!-- TODO: move style sheet to a seperate css file) -->
	<style type="text/css">
		html, body {height: 90%; width: 90% overflow: hidden;}
		#census_map {height: 100%; width: 100%;}
	</style>
</head>

<body>
	<div id="census_map"></div>
	
	<!-- TODO: move map creation script to a seperate js file -->
	<script>
	
	// Create map
	var map = new L.Map('census_map', {
		center: [37.770, -122.41],
		zoom: 6
	});
	
	// Add base layer
	base_layer = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png');
	base_layer.addTo(map);
	
	// Array of colors for demonstrating the ability to color individual census tracts
	colors = ['red', 'orange', 'yellow', 'green', 'blue', 'indigo', 'violet'];
	
	// Add census layer
	census_layer = new L.Shapefile("ca-census-tract-shapefiles.zip", {
	  style: function(feature) {
	    return {color: colors[feature.properties.TRACTCE % 7], fillOpacity: 0.6, weight: 1};
    }
  });
	census_layer.addTo(map);

	</script>
	
</body>
</html>